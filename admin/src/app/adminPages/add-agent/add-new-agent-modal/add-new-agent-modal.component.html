<div class="modal-header">
    <h5 class="modal-title">{{ agentData ? 'Edit Agent' : 'Add Agent' }}</h5>
    <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss()"></button>
</div>

<div class="modal-body">
    <form [formGroup]="agentForm" (ngSubmit)="submitForm()">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="fw-semibold mb-1">Agent Name</label>
                <input type="text" class="form-control rounded-1 shadow-none" formControlName="agent_name" />
            </div>
            <div class="col-md-6 mb-3">
                <label class="fw-semibold mb-1">Agent Email</label>
                <input type="email" class="form-control rounded-1 shadow-none" formControlName="agent_email" type="email" />
            </div>
            <div class="col-md-6 mb-3">
                <label class="fw-semibold mb-1">Agent Number</label>
                <input type="number" maxlength="13" class="form-control rounded-1 shadow-none" formControlName="agent_number" />
            </div>
            <div class="col-md-6 mb-3">
                <label class="fw-semibold mb-1">Agent Area</label>
                <input type="text" class="form-control rounded-1 shadow-none" formControlName="agent_area" />
            </div>
        </div>

        <div class="mb-3">
            <label class="fw-semibold mb-1">Agent Address</label>
            <textarea class="form-control rounded-1 shadow-none" rows="4" formControlName="agent_address"></textarea>
        </div>

        <div class="mb-3">
            <label class="fw-semibold mb-1">Agent Photo</label>
            <input type="file" (change)="onFileChange($event)" class="form-control rounded-1 shadow-none" />
            <div *ngIf="photoPreview" class="mt-2">
                <img [src]="photoPreview" alt="preview" class="img-thumbnail" width="150" />
            </div>
        </div>

        <div class="text-end">
            <button type="submit" class="btn btn-primary rounded-1" [disabled]="agentForm.invalid">
                {{ agentData ? 'Update' : 'Create' }}
            </button>
        </div>
    </form>
</div>

<ngb-toast *ngIf="showToast" [class]="toastClass" [autohide]="true" [delay]="3000" (hidden)="showToast = false"
    class="position-fixed bottom-0 end-0 m-3 text-white shadow">
    {{ toastMessage }}
</ngb-toast>